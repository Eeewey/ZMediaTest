# ZMediaTest
Z Media Unity test

# Описание

Вам предлагается реализовать базовую версию симулятора сражений, похожего на игру Army Clash.
Используя Unity, создайте проект, в котором есть две армии, состоящие из случайно сгенерированных юнитов (характеристики приведены ниже). Юниты должны сражаться друг с другом до тех пор, пока одна из сторон полностью не победит.
После реализации базовой механики необходимо выбрать одну (и только одну) дополнительную функцию, которая, по вашему мнению, сможет выделить игру среди других, и реализовать её.

Как основная архитектура выбран Unity ECS, так как позволяет работать с большим обьемом активных юнитов что актуально для Army Clash.
Как доп функция выбрано добавить возможность конфигурации большее количество команд в конфиге. Для игры похожей на Army Clash актуально на мой взгляд.


# Архитектура проекта
---

## 1. Основные слои и модули

### ECS-системы
- **MoveSystem**  
  Двигает юнитов к ближайшим противникам с учётом `Spd`.
  
- **AttackSystem**  
  Наносит урон целям `Hp` в соответствии с `Atk` и задержкой между атаками `AtkSpd`.

- **HealthSystem**  
  Удаляет юнитов с `Hp <= 0`.

- **WinConditionSystem**  
  Определяет победившую команду.  
  Событие победы реализовано через:
  - **`GameOver` singleton** для ECS
  - **Статический делегат `OnGameOver`** для MonoBehaviour UI

- **FindTargetSystem / HelperSystems**  
  Выбирает ближайшего противника для каждого юнита и передает цель в MoveSystem / AttackSystem.

---

### Компоненты (Data)

- **UnitBaseStats** — основные характеристики юнита: `Hp`, `Atk`, `Spd`, `AtkSpd`.
- **AttackRange** — дальность атаки юнита.
- **TeamConfigBlob** — стартовые позиции команд и количество юнитов.
- **UnitStatsConfigBlob** — конфигурации юнитов.
- **UnitData** — данные конкретного юнита, включая `TeamId` и ссылку на stats.

---

### Конфигурация

- **UnitStatsConfigBaker**  
  Превращает `UnitStatsConfigAuthoring` в **BlobAssetReference**, которые затем добавляются к сущностям.  

---

## 2. Взаимодействие ECS ↔ UI

- **Событие победы**:
  1. ECS-система `WinConditionSystem` вызывает через делегат `OnGameOver` и уведомляет UI.
  2. MonoBehaviour `GameOverUI` подписан на событие и показывает панель с победившей командой.
